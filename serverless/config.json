{
  "name": "serverless-sharp-image",
  "provider": {
    "profile": "serverless-admin",
    "stage": "dev",
    "region": "ap-northeast-2"
  },
  "sourceBucket": "alala-source-bucket",
  "sourcePrefix": "originals/",
  "destinationBucket": "alala-sharped-bucket",
  "destinationPrefix": "sharped/",
  "s3": {
    "params": {
      "Metadata": {
        "generator": "created by a serverless-sharp-image lambda function"
      }
    }
  },
  "all": [
    ["rotate"],
    ["toFormat", "jpeg", { "quality": 100 }]
  ],
  "outputs": [
		{
      "key": "%(filename)s-640.jpg",
      "params": {
        "ACL": "public-read"
      },
      "operations": [
        ["resize", 640, 640],
        ["max"],
        ["withoutEnlargement"]
      ]
    },
    {
      "key": "%(filename)s-214.jpg",
      "operations": [
        ["resize", 214, 214],
        ["max"],
        ["withoutEnlargement"]
      ]
    },
		{
      "key": "%(filename)s-160.jpg",
      "operations": [
        ["resize", 160, 160],
        ["max"],
        ["withoutEnlargement"]
      ]
    }
  ]
}
